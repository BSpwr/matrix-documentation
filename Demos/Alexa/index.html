<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Alexa on Creator - MATRIX</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../styles.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">MATRIX</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Installation</a>
                    </li>
                    <li >
                        <a href="../../upgrades/">Upgrades</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX CLI <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../CLI/overview/">Overview</a>
</li>
                            
<li >
    <a href="../../CLI/installation/">Installation</a>
</li>
                            
<li >
    <a href="../../CLI/apps/">Apps</a>
</li>
                            
<li >
    <a href="../../CLI/device/">Devices</a>
</li>
                            
<li >
    <a href="../../CLI/example/">Examples</a>
</li>
                            
<li >
    <a href="../../intro/cli-troubleshooting/">Troubleshooting</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX OS <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../API/overview/">Overview</a>
</li>
                            
<li >
    <a href="../../intro/app-publishing/">App Publishing</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">App API</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../API/sensors/">Sensors</a>
</li>
            
<li >
    <a href="../../API/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../API/filter/">Filters</a>
</li>
            
<li >
    <a href="../../API/computer-vision/">Computer Vision</a>
</li>
            
<li >
    <a href="../../API/microphone/">Microphone</a>
</li>
            
<li >
    <a href="../../API/crosstalk/">Cross-Talk</a>
</li>
            
<li >
    <a href="../../API/typesend/">Type</a>
</li>
            
<li >
    <a href="../../API/GPIO/">GPIO</a>
</li>
            
<li >
    <a href="../../API/ir/">IR TX/RX</a>
</li>
            
<li >
    <a href="../../API/nfc/">NFC</a>
</li>
            
<li >
    <a href="../../API/zwave/">Z-wave</a>
</li>
            
<li >
    <a href="../../API/zigbee/">Zigbee</a>
</li>
            
<li >
    <a href="../../API/servos/">Servos</a>
</li>
            
<li >
    <a href="../../API/file-storage/">File Storage</a>
</li>
            
<li >
    <a href="../../API/db/">Local Database</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Configuration</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Configuration/overview/">Overview</a>
</li>
            
<li >
    <a href="../../Configuration/datatypes/">Datatypes</a>
</li>
            
<li >
    <a href="../../Configuration/screens/">Screens</a>
</li>
            
<li >
    <a href="../../Configuration/filters/">Filters</a>
</li>
            
<li >
    <a href="../../Configuration/widgets/">Widgets</a>
</li>
            
<li >
    <a href="../../Configuration/services/">Services</a>
</li>
            
<li >
    <a href="../../Configuration/examples/">Examples</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../intro/matrix-troubleshooting/">Troubleshooting</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Demos <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li class="active">
    <a href="./">Alexa on Creator</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Hardware <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">HAL</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../HAL/overview/">Overview</a>
</li>
            
<li >
    <a href="../../HAL/overview/">Examples</a>
</li>
            
<li >
    <a href="../../HAL/troubleshooting/">Troubleshooting</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">MALOS</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../MALOS/overview/">Overview</a>
</li>
            
<li >
    <a href="../../MALOS/example/">Examples</a>
</li>
            
<li >
    <a href="../../MALOS/troubleshooting/">Troubleshooting</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../Reference/overview/">Overview</a>
</li>
                            
<li >
    <a href="../../Reference/pinout/">Pinout</a>
</li>
                            
<li >
    <a href="../../Hardware/fpga/">FPGA</a>
</li>
                            
<li >
    <a href="../../Hardware/Sam3/">SAM3</a>
</li>
                            
<li >
    <a href="../../Hardware/sam3mcu-programming/">SAM3MCU</a>
</li>
                            
<li >
    <a href="../../Hardware/microphone/">Microphone</a>
</li>
                            
<li >
    <a href="../../Hardware/SPI/">SPI</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../dictionary/">Dictionary</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../../intro/matrix-troubleshooting/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../HAL/overview/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#on-this-page">On this page</a></li>
        <li class="main "><a href="#overview">Overview</a></li>
        <li class="main "><a href="#required-hardware">Required hardware</a></li>
        <li class="main "><a href="#lets-get-started">Let's get started</a></li>
            <li><a href="#step-1-setting-up-your-pi">Step 1: Setting up your Pi</a></li>
            <li><a href="#step-2-override-alsa-configuration">Step 2: Override ALSA configuration</a></li>
            <li><a href="#step-3-install-matrix-software-and-reboot">Step 3: Install MATRIX software and reboot</a></li>
            <li><a href="#step-4-run-your-web-service-sample-app-and-wake-word-engine">Step 4: Run your web service, sample app and wake word engine</a></li>
            <li><a href="#step-5-talk-to-alexa">Step 5: Talk to Alexa</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h2 id="on-this-page">On this page</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#required-hardware">Required Hardware</a></li>
<li><a href="#lets-get-started">Step-by-step Guide</a></li>
</ul>
<hr />
<h2 id="overview">Overview</h2>
<p><img alt="" src="../matrix-creator-alexa.png" /></p>
<p>This guide provides step-by-step instructions for setting up AVS on a <strong>Raspberry Pi</strong> with a <a href="https://creator.matrix.one/">MATRIX Creator</a>. It demonstrates how to access and test AVS using our Java sample app (running on a Raspberry Pi), a Node.js server, and a third-party wake word engine using MATRIX mic array. You will use the Node.js server to obtain a Login with Amazon (LWA) authorization code by visiting a website using your Raspberry Pi's web browser.</p>
<h2 id="required-hardware">Required hardware</h2>
<p>Before you get started, let's review what you'll need.</p>
<ol>
<li><strong>Raspberry Pi 3</strong> (Recommended) or <strong>Pi 2 Model B</strong> (Supported)  - Buy at Amazon - <a href="https://amzn.com/B01CD5VC92">Pi 3</a> or <a href="http://amzn.com/B00T2U7R7I">Pi 2</a>.</li>
<li><strong>MATRIX Creator</strong> - Raspberry Pi does not have a built-in microphone, the MATRIX Creator has an 8 mic array for Alexa - <a href="https://creator.matrix.one/#!/buy">Buy MATRIX Creator</a></li>
<li><strong>Micro-USB power cable</strong> for Raspberry Pi.</li>
<li><strong>Micro SD Card</strong> (Minimum 8 GB) - You need an operating system to get started. NOOBS (New Out of the Box Software) is an easy-to-use operating system install manager for Raspberry Pi. The simplest way to get NOOBS is to buy an SD card with NOOBS pre-installed - <a href="https://www.amazon.com/gp/product/B00ENPQ1GK/ref=oh_aui_detailpage_o01_s00?ie=UTF8&amp;psc=1">Raspberry Pi 8GB Preloaded (NOOBS) Micro SD Card</a>. Alternatively, you can download and install it on your SD card.</li>
<li><strong>External Speaker</strong> with 3.5mm audio cable - <a href="http://amzn.com/B007OYAVLI">Buy on Amazon</a></li>
<li>A <strong>USB Keyboard &amp; Mouse</strong>, and an external <strong>HDMI Monitor</strong> - we also recommend having a USB keyboard and mouse as well as an HDMI monitor handy if you're unable to <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Setup-SSH-&amp;-VNC">remote(SSH)</a> into your Pi.</li>
<li>Internet connection (Ethernet or WiFi)</li>
<li>(Optional) WiFi Wireless Adapter for Pi 2 (<a href="http://www.amazon.com/CanaKit-Raspberry-Wireless-Adapter-Dongle/dp/B00GFAN498/">Buy on Amazon</a>).
   <strong>Note:</strong> Pi 3 has built-in WiFi.</li>
</ol>
<p>For extra credit, enable <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Setup-SSH-&amp;-VNC">remote(SSH)</a> into your device, eliminating the need for a monitor, keyboard and mouse - and learn how to tail logs for troubleshooting.</p>
<hr />
<h2 id="lets-get-started">Let's get started</h2>
<p>The original Alexa on a Pi project required manual download of libraries/dependencies and updating configuration files, which is prone to human error. To make the process faster and easier, we've included an install script with the project that will take care of all the heavy lifting. Not only does this reduce setup time to less than an hour on a Raspberry Pi 3, it only requires developers to adjust three variables in a single install script.</p>
<h3 id="step-1-setting-up-your-pi">Step 1: Setting up your Pi</h3>
<p>Configure your RaspberryPi like a original Alexa documentation, for this please completing steps: <strong>1,2,3,4,5 and 6</strong> from original documentation: <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Raspberry-Pi#step-1-setting-up-your-pi">Raspberry Pi</a></p>
<hr />
<h3 id="step-2-override-alsa-configuration">Step 2: Override ALSA configuration</h3>
<p>MATRIX Creator has 8 physical microphone channels and an additional virtual beam formed channel that combines the physical ones. Utilize a microphone channel by placing the following in <code>/home/pi/.asoundrc</code>.</p>
<pre><code class="javascript">pcm.!default
{
  type asym
  playback.pcm {
    type hw
    card 0
    device 0
  }
  capture.pcm {
    type file
    file &quot;/tmp/matrix_micarray_channel_0&quot;
    infile &quot;/tmp/matrix_micarray_channel_0&quot;
    format &quot;raw&quot;
    slave {
        pcm sc
    }
  }
}
</code></pre>

<hr />
<h3 id="step-3-install-matrix-software-and-reboot">Step 3: Install MATRIX software and reboot</h3>
<pre><code class="bash">echo &quot;deb http://packages.matrix.one/matrix-creator/ ./&quot; | sudo tee --append /etc/apt/sources.list;
sudo apt-get update;
sudo apt-get upgrade;
sudo apt-get install libzmq3-dev xc3sprog matrix-creator-openocd wiringpi cmake g++ git;
sudo apt-get install matrix-creator-init matrix-creator-malos
sudo reboot
</code></pre>

<hr />
<h3 id="step-4-run-your-web-service-sample-app-and-wake-word-engine">Step 4: Run your web service, sample app and wake word engine</h3>
<p>Return to <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Raspberry-Pi#step-1-setting-up-your-pi">Raspberry Pi</a> documentation and execute <strong>Step 7</strong> but in the last terminal select the <code>sensory</code> wake word engine with:</p>
<pre><code class="bash">cd ~/Desktop/alexa-avs-sample-app/samples
cd wakeWordAgent/src &amp;&amp; ./wakeWordAgent -e sensory
</code></pre>

<hr />
<h3 id="step-5-talk-to-alexa">Step 5: Talk to Alexa</h3>
<p>You can now talk to Alexa by simply using the wake word "Alexa". Try the following -</p>
<p>Say "Alexa", then wait for the beep. Now say "what's the time?"</p>
<p>Say "Alexa", then wait for the beep. Now say "what's the weather in Seattle?"</p>
<p>If you prefer, you can also click on the "Listen" button, instead of using the wake word. Click the "Listen" button and wait for the audio cue before beginning to speak. It may take a second or two before you hear the audio cue.</p>
<hr /></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
