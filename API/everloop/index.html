<!--
  This Basic theme serves as an example for how to create other
  themes by demonstrating the features with minimal HTML and CSS.
  Comments like this will be through the code to explain briefly
  what each feature is and point you to the MkDocs documentation
  to find out more.
-->
<!DOCTYPE html>
<head>

  <!--
    The page_title contains the title for a page as shown in the navigation.
    Site name contains the name as defined in the mkdocs.yml
  -->
  <title>Everloop - MATRIX</title>

  <!--
    Support custom favicon support.
    http://www.mkdocs.org/user-guide/configuration/#site_favicon
  -->
  
    <link rel="shortcut icon" href="../../img/favicon.ico">
  

  <!--
    You can include external assets of course, but be aware that it means the
    documentation may not work well offline.
  -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <link rel="stylesheet" href="../../css/theme.css">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet">
  <!--
    extra_ess contains paths to CSS files in the users
    documentation directory or a list of CSS files defined in
    their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_css
  -->
  
    <link href="../../styles.css" rel="stylesheet">
  

  <!--
    To include static assets from our theme, just add
    ../.. beforehand which will be the relative path to
    the root of the documentation.
  -->
  <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  <script src="../../js/theme.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!--
    extra_javascript contains paths to JavaScript files in the
    users documentation directory or a list of JavaScript files
    defined in their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_javascript
  -->
  

  <!--
    Include Google Analytics tracking code.

    http://www.mkdocs.org/user-guide/configuration/#google_analytics
  -->
  

  
  
</head>
<body>
  <!--
    Create the navigation for the documentation.

    Because we don't know how many levels deep the navigation is, it needs to
    be included in it's own file so it can be recursive. Otherwise the theme
    can also only support a specific number of levels.

    See the nav.html file for more details about how this works.
  -->
<nav class="navbar navbar-default">
  <div class="container">
    <a class="navbar-brand" href="../..">
      <img alt="MATRIX Labs" src="../../img/matrix.png">
    </a>
    <ul class="nav navbar-nav">
    
    
      <!--

-->

<li >
    <a href="../..">Installation</a>
</li>

    
      <!--

-->

<li >
    <a href="../../upgrades/">Upgrades</a>
</li>

    
      <!--

-->

  
  <li class="dropdown">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">MATRIX CLI <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../CLI/overview/">Overview</a>
</li>

        
            <!--

-->

<li >
    <a href="../../CLI/installation/">Installation</a>
</li>

        
            <!--

-->

<li >
    <a href="../../CLI/apps/">Apps</a>
</li>

        
            <!--

-->

<li >
    <a href="../../CLI/device/">Devices</a>
</li>

        
            <!--

-->

<li >
    <a href="../../CLI/example/">Examples</a>
</li>

        
            <!--

-->

<li >
    <a href="../../intro/cli-troubleshooting/">Troubleshooting</a>
</li>

        
    </ul>
  </li>

    
      <!--

-->

  
  <li class="dropdown">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">MATRIX OS <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../overview/">Overview</a>
</li>

        
            <!--

-->

<li >
    <a href="../../intro/app-publishing/">App Publishing</a>
</li>

        
            <!--

-->

  
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">App API <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../sensors/">Sensors</a>
</li>

        
            <!--

-->

<li class="active">
    <a href="./">Everloop</a>
</li>

        
            <!--

-->

<li >
    <a href="../filter/">Filters</a>
</li>

        
            <!--

-->

<li >
    <a href="../computer-vision/">Computer Vision</a>
</li>

        
            <!--

-->

<li >
    <a href="../microphone/">Microphone</a>
</li>

        
            <!--

-->

<li >
    <a href="../crosstalk/">Cross-Talk</a>
</li>

        
            <!--

-->

<li >
    <a href="../typesend/">Type</a>
</li>

        
            <!--

-->

<li >
    <a href="../GPIO/">GPIO</a>
</li>

        
            <!--

-->

<li >
    <a href="../ir/">IR TX/RX</a>
</li>

        
            <!--

-->

<li >
    <a href="../nfc/">NFC</a>
</li>

        
            <!--

-->

<li >
    <a href="../zwave/">Z-wave</a>
</li>

        
            <!--

-->

<li >
    <a href="../zigbee/">Zigbee</a>
</li>

        
            <!--

-->

<li >
    <a href="../servos/">Servos</a>
</li>

        
            <!--

-->

<li >
    <a href="../file-storage/">File Storage</a>
</li>

        
            <!--

-->

<li >
    <a href="../db/">Local Database</a>
</li>

        
    </ul>
  </li>

        
            <!--

-->

  
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Configuration <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../Configuration/overview/">Overview</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/datatypes/">Datatypes</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/screens/">Screens</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/filters/">Filters</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/widgets/">Widgets</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/services/">Services</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/example-config/">Config File</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Configuration/examples/">Widget Examples</a>
</li>

        
    </ul>
  </li>

        
            <!--

-->

<li >
    <a href="../../intro/matrix-troubleshooting/">Troubleshooting</a>
</li>

        
    </ul>
  </li>

    
      <!--

-->

  
  <li class="dropdown">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Hardware <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../Reference/creator/">Creator</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Reference/voice/">Voice</a>
</li>

        
            <!--

-->

  
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">HAL <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../HAL/overview/">Overview</a>
</li>

        
            <!--

-->

<li >
    <a href="../../HAL/overview/">Examples</a>
</li>

        
            <!--

-->

<li >
    <a href="../../HAL/troubleshooting/">Troubleshooting</a>
</li>

        
    </ul>
  </li>

        
            <!--

-->

  
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">MALOS <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../MALOS/overview/">Overview</a>
</li>

        
            <!--

-->

<li >
    <a href="../../MALOS/example/">Examples</a>
</li>

        
            <!--

-->

<li >
    <a href="../../MALOS/troubleshooting/">Troubleshooting</a>
</li>

        
    </ul>
  </li>

        
            <!--

-->

<li >
    <a href="../../Reference/pinout/">Pinout</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Hardware/fpga/">FPGA</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Hardware/Sam3/">SAM3</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Hardware/sam3mcu-programming/">SAM3MCU</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Hardware/microphone/">Microphone</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Hardware/SPI/">SPI</a>
</li>

        
    </ul>
  </li>

    
      <!--

-->

  
  <li class="dropdown">
    <a href="#" class="dropdown-toggle submenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Demos <span class="caret"></span></a>
    <ul class="dropdown-menu">
        
            <!--

-->

<li >
    <a href="../../Demos/Alexa/">Alexa on Creator</a>
</li>

        
    </ul>
  </li>

    
      <!--

-->

<li >
    <a href="../../dictionary/">Dictionary</a>
</li>

    
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a class="order" href="https://creator.matrix.one" target="_blank">Order Dev Kit</a></li>
    </ul>
  </div>
</nav>
  <div class="jumbotron">
    
    <h1 class="text-center">Everloop</h1>
    
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-2">
        
        <h3>Search</h3>
          <!--
            Create a search form that sends the user to the search.html file - this is
            the other file in the template which adds search to the theme. The only
            requirement here is that there is a text input with the name 'q' and the
            action and methods match below.
          -->
          <div role="search">
            <form action="../../search.html" method="get">
              <div class="form-group">
                <input class="form-control" type="search" name="q" placeholder="Search docs" />
              </div>
            </form>
          </div>

          
          <!--
            Implement the previous and next links to cycle through the pages.
          -->
          
          
          <div id="nav-ctrls" style="display: none">
          <hr/>
          <h3>Navigation</h3>
            <div>
              
                <a href="../sensors/" class="btn btn-default" title="Sensors"><span aria-hidden="true">&laquo;</span> prev.</a>
              
              
                <a href="../filter/" class="btn btn-default" title="Filters"/> next <span aria-hidden="true">&raquo;</span></a>
              
            </div>
            <hr/>
          </div>
          

          
          <h3>Contents</h3>
          <ul class="list-group">
          
              <li class="list-group-item"><a href="#everloop">Everloop</a></li>
              
          
              <li class="list-group-item"><a href="#rendering">Rendering</a></li>
              
                  <li class="list-group-item"><a href="#the-problem">The problem</a></li>
              
                  <li class="list-group-item"><a href="#the-solution">The Solution</a></li>
              
          
              <li class="list-group-item"><a href="#basic-operations">Basic Operations</a></li>
              
                  <li class="list-group-item"><a href="#string-notation-render">String Notation &amp; Render</a></li>
              
          
              <li class="list-group-item"><a href="#intermediate-operation">Intermediate Operation</a></li>
              
                  <li class="list-group-item"><a href="#object-notation-shape-generators">Object Notation - Shape Generators</a></li>
              
                  <li class="list-group-item"><a href="#global-shape-properties">Global Shape Properties</a></li>
              
                  <li class="list-group-item"><a href="#available-shapes">Available Shapes</a></li>
              
                  <li class="list-group-item"><a href="#chaining-operations">Chaining Operations</a></li>
              
                  <li class="list-group-item"><a href="#multiple-shapes-and-pixel-drawing">Multiple shapes and pixel drawing</a></li>
              
          
              <li class="list-group-item"><a href="#examples">Examples</a></li>
              
          
              <li class="list-group-item"><a href="#composition">Composition</a></li>
              
                  <li class="list-group-item"><a href="#shape-objects">Shape Objects</a></li>
              
                  <li class="list-group-item"><a href="#direct-pixel-manipulation">Direct Pixel Manipulation</a></li>
              
          
              <li class="list-group-item"><a href="#example-clock">Example clock</a></li>
              
          
              <li class="list-group-item"><a href="#advanced-use">Advanced Use</a></li>
              
          
          </ul>

          

      </div>
      <div class="col-md-10">
        
          <h2 id="everloop">Everloop</h2>
<p>A powerful tool for communicating with end users is the EverLoop LED circle. CLICK VIDEO BELOW:</p>
<p><a href="https://www.youtube.com/watch?v=L4btaqw4HqM"><img alt="Everloop Tutorial" src="../img/everloop-image.png" /></a></p>
<h2 id="rendering">Rendering</h2>
<p>MatrixOS is an attempt at abstracting out the complexity of hardware to make it very accessible for end users. At the same time, one also wants to support those who might want to perform more complex operations. When designing a language, sometimes compromises between ease of use and features must be made.</p>
<h4 id="the-problem">The problem</h4>
<p>Many things might want to write to the LED. We can leave it up to chance as to which gets to write, or we can approach it intelligently to optimize the aesthetics and performance. We also want to be able to manage and optimize LED transformations from a system level. Normally, MATRIX OS enables very fast communication with the hardware and tries to get out of the way as much as possible. For LEDS, we still get out of the way, but we need to blend all the input from different applications, otherwise this creates flicker as multiple applications compete for the same light indices. To discretely manage this, we created a special channel and notation just for leds.</p>
<h4 id="the-solution">The Solution</h4>
<pre><code>matrix.led
</code></pre>

<h2 id="basic-operations">Basic Operations</h2>
<h3 id="string-notation-render">String Notation &amp; Render</h3>
<pre><code class="js">matrix.led('blue'); //does nothing

matrix.led('green').render(); //lights change

// supports css
matrix.led('rgba(255, 0, 100)').render();
</code></pre>

<p>You can use any CSS color property, including <a href="../X11 Color Names">https://www.wikiwand.com/en/Web_colors#/X11_color_names</a>. Darker colors on the Everloop generally display with more precision then lighter colors, which tend to get washed out. </p>
<p>Further examples omit the <code>render</code> for readability. </p>
<h2 id="intermediate-operation">Intermediate Operation</h2>
<h3 id="object-notation-shape-generators">Object Notation - Shape Generators</h3>
<p>Shape objects <code>{Shape}</code> are the fastest way to get started with Everloop. We are always building, <a href="http://community.matrix.one/">let us know</a> what shapes you want us to work on next!</p>
<p>The object creation is simple, you combine global properties with specific properties into a single object that controls a single generator. To draw multiple shapes, see Multiple Shapes below.</p>
<h3 id="global-shape-properties">Global Shape Properties</h3>
<p>Every Shape object must include a <code>color</code> property to render.</p>
<pre><code>color - color strings, as specified above
blend - mix lights to make angle positioning more precise
spin - number of degrees by which to spin the hue ( 0 - 360 )
start - ( arc only ), start light index
</code></pre>

<h3 id="available-shapes">Available Shapes</h3>
<p>Include one of these properties to enable the shape generator.</p>
<pre><code>arc - number of degrees to draw an arc, important for smile faces, supports negative values
fade - similiar to arc, except lights fade out
angle - draw a single light at this degree point
</code></pre>

<h4 id="example-shape-object">Example Shape Object</h4>
<pre><code>{
  color: 'red'
  angle: 90
}
</code></pre>

<h3 id="chaining-operations">Chaining Operations</h3>
<p>These operate on the shapes and colors defined in the <code>led</code> object.</p>
<pre><code>rotate(angle) - rotates whole shape by this many degrees 
brighten(steps) - brighten light by this many steps ( 0 - 10 )
darken(steps) - darken light by this many steps ( 0 - 10 )
// brighten / darken are expensive operations and may not be suitable for rapidly updating displays
</code></pre>

<h3 id="multiple-shapes-and-pixel-drawing">Multiple shapes and pixel drawing</h3>
<p>Use an array to include multiple shapes. Color strings can also be included and will be drawn as a single light whose index matches the strings index in the array provided.</p>
<h2 id="examples">Examples</h2>
<pre><code class="js">var a = matrix.led({
  // degrees of arc [ 90° = quadrant ]   
  arc: 90,

  color: 'green',

  // index to start drawing arc
  start: 12
});


// draw a point
var b = matrix.led({
  angle: 245,
  color: 'white',
  // blends interlight space if true, solid lights if false, default false
  blend: true
});

// rotate the lights clockwise by a specified angle
matrix.led([a, b]).rotate(90);
</code></pre>

<h2 id="composition">Composition</h2>
<h3 id="shape-objects">Shape Objects</h3>
<pre><code class="js">// make a smiley face
matrix.led([
  {
    angle: 45,
    color: 'yellow'
  },
  {
    angle: 135,
    color: 'yellow'
  },
  {
    arc: 90,
    color: 'yellow',
    start: 225
  }
]);
</code></pre>

<h3 id="direct-pixel-manipulation">Direct Pixel Manipulation</h3>
<p>Array index = led to change</p>
<pre><code class="js">matrix.led([0, 0, 0, 0, 'yellow', 0,
0, 0, 0, 0, 0, 0, 0, 'yellow', 0, 0,
0, 0, 0, 0, 0, 0, 'yellow', 'yellow',
'yellow', 'yellow', 'yellow', 'yellow',
'yellow', 'yellow', 'yellow' ]);
</code></pre>

<h2 id="example-clock">Example clock</h2>
<pre><code class="js">setInterval(function(){
  var time = new Date();
  var h = time.getHours();
  var m = time.getMinutes();
  var s = time.getSeconds();

  var hourLED = {
    // translate hours (12) to angle (360)
    arc: h * 3,
    color: 'blue'
  };

  var minuteLED = {
    // translate minutes ( 60 ) to angle ( 360 )
    angle: m * 6,
    color: 'green'
  };

  var secondLED = {
    // translate seconds (60) to angle (360)
    angle: s * 6,
    color: 'yellow',
    blend: true
  };

  matrix.led([hourLED, minuteLED]).render();

}, 1000);
</code></pre>

<h2 id="advanced-use">Advanced Use</h2>
<p>Enable <code>SUN_MODE=true</code> as a flag when launching MATRIX OS to turn on the white LEDs (and the luminence calculations). Wear sunglasses or use another mode of protecting your eyes when using this while developing. It is intended for use behind coverings.</p>
        
      </div>
    </div>
  </div>

  <!--
  MkDocs version      : 0.16.1
  Docs Build Date UTC : 2017-04-20 18:10:35
  -->

</body>
</html>