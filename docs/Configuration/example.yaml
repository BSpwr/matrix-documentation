# do not touch this line
configVersion: 2

# App Information for Store
description: Monitor app for your MATRIX
keywords: 'monitor,matrix,cpu,memory,device'
name: monitor
displayName: Monitor

# these are defined for writing data to the data base
dataTypes:
  device:
    'os_hostname': string
    'os_type': string
    'os_platform': string
    'os_arch': string
  monitor:
    cpu: float
    memory: float

# screens are comprised of widgets
screens:
  # Row 1
  - - buttonsMap
    - buttonTest
  # Row 2
  - - info
    - cpu
    - memory
  # Row 3
  - - cpuChart
  # Row 4
  - - gaugeChart
    - radarTest
    - barChart

widgets:
  info:
    display: list-group
    label: Secret Information
    groupby: 'os_hostname'
    # Type from dataTypes
    type: device
  cpuChart:
    # Loads display "line" showing "cpu" & "memory" data
    display: line
    # multi-series keys
    keys: cpu,memory
    label: CPU Chart
    type: monitor
  buttonTest:
    # Loads control "button"
    control: button
    label: Hacking Buttons
    # Matrix.on('buttonInfo')
    trigger: buttonInfo
    # Button Label
    value: Get Secret Information
    size: 50
  buttonsMap:
    # Load group of "buttons" to trigger events
    control: button
    label: Matrix Activation Buttons
    # Many buttons --> label: eventName
    map:
      'amps+': buttonUp
      'amps-': buttonDown
      begin : buttonStart
      end : buttonStop
      capture : buttonSample
      'refresh+' : buttonSlow
      'refresh-' : buttonFast
    # Width of widget is 50% of row
    size: 50
  barChart:
    display: bar
    label: Bar chart
    keys: cpu, memory
    type: monitor
    # Disable realtime and refresh widget every 10 seconds
    realtime: false
    refresh: 10
  radarTest:
    display: radar
    keys: cpu,memory
    label: last CPU
    type: monitor
  gaugeChart:
    # Loads display "gauge" showing "cpu" data
    display: gauge
    key: cpu
    label: Monitoring Gauge
    # Type from dataTypes
    type: monitor
  cpu:
    display: digit
    # Format applied to data: Percent
    format: percent
    key: cpu
    label: cpu
    type: monitor
  memory:
    display: digit
    # Format applied to data: Average
    format: avg
    key: memory
    label: memory
    type: monitor
