<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Basic Dashboard MATRIX</title>
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../css/theme.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
</head>

<body data-spy="scroll">
  <nav class="navbar navbar-expand-lg navbar-light container">
  <a class="navbar-brand" href="../../..">
    <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
    <span>MATRIX</span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
  	<span class="navbar-toggler-icon"></span>
  </button>
</nav>

  <div class="header">
    <div class="container">
      <div class="jumbotron">
        <div class="row">
          <div class="col-sm-8">
            
            <h1>Basic Dashboard</h1>
            
          </div>
          <div class="col-sm-4">
            <form action="../../../search.html" method="get">
              <input class="form-control" type="search" name="q" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="container">
      <div class="row">
        <div class="sidebar col-lg-2">
          <div class="collapse navbar-collapse" id="navbar-menu">
            <h3>Documentation</h3>
            <ul>
                

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../.." class="">
    Overview
  </a>
</li>


  

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../../setup/" class="">
    Device Setup
  </a>
</li>


  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../" class="active">
    MATRIX OS
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../getting-started/prerequisites/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../overview/" class="">
      Overview
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../" class="active">
      Examples
    </a>
  </li>

  <ul class="subnav">
        
    
    <li><a href="../app-create/" class="">Create an App</a></li>
        
    
    <li><a href="./" class="active">Basic Dashboard</a></li>
        
    
    <li><a href="../sensor-test/" class="">Sensor Tests</a></li>
        
    
    <li><a href="../ifttt/" class="">IFTTT Integration</a></li>
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../reference/" class="">
      Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-core/" class="">
    MATRIX CORE
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/getting-started/prerequisites/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/examples/pytests/" class="">
      Examples
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-core/reference/" class="">
      Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-core/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-hal/" class="">
    MATRIX HAL
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/getting-started/installation/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/datasheets/creator/" class="">
      Boards
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/components/" class="">
      Components
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/tools/" class="">
      Tools
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-hal/examples/hardware-demos/" class="">Sensor Tests</a></li>
     
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-hal/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../../help/" class="">
    Support
  </a>
</li>


 
            </ul>
          </div>
        </div>
        <div id="content" class="col-lg-8 col-md-9">
           <h2 id="creating-a-dashboard">Creating a Dashboard</h2>
<p>In this example we will make this simple dashboard.</p>
<p><img alt="" src="../../img/dash-done.png" /></p>
<blockquote>
<p>Before attempting this example, you should have <a href="../../overview/cli/">CLI</a> installed and are familiar with <a href="../app-create/">application <code>create</code> and <code>deploy</code></a> and <a href="../../overview/data/">data types</a>.</p>
<p>For more details about what is covered in this example, please read about <a href="../../reference/widgets/">widgets</a> and <a href="../../reference/sensors/">sensors</a></p>
</blockquote>
<p>Dashboards serve two primary purposes:</p>
<ol>
<li>Presenting data patterns over time.</li>
<li>Communicating with applications.</li>
</ol>
<h3 id="make-application">Make application</h3>
<pre><code class="bash">$ matrix create ezDash
# enter details
$ cd ezDash
</code></pre>

<h3 id="configure-application">Configure application</h3>
<h4 id="send-data">Send data</h4>
<p>Data is sent and sorted via it's structure which is defined in <code>dataTypes</code>. In this example <code>motd</code> is the <code>type</code> of data which is parsed for a given key <code>msg</code> in the dashboard.</p>
<pre><code class="yaml">dataTypes:
  motd:
    msg: string
</code></pre>

<h4 id="widget-definition">Widget Definition</h4>
<p>Define a widget named <code>message</code> that holds options defining which data to display.</p>
<pre><code class="yaml">widgets: 
  message: 
    display: label
    type: motd
    key: msg
    label: from device
</code></pre>

<h4 id="add-to-layout">Add to layout</h4>
<p><code>message</code> is the widget name to add to the <code>screens</code> layout definition.</p>
<pre><code class="yaml">screens:
  - - message
</code></pre>

<h4 id="final-configuration-file">Final Configuration File</h4>
<pre><code class="yaml"># config.yaml

dataTypes:
  motd:
    msg: string

widgets: 
  message: 
    display: label
    type: motd
    key: msg
    label: from device

screens:
  - - message
</code></pre>

<h3 id="application-to-send-a-basic-message">Application to send a Basic Message</h3>
<p>Here, we use the dataType <code>motd</code>, and send an object with a <code>msg</code> key to display in the dashboard.</p>
<pre><code class="js">// app.js
matrix.type('motd').send({msg: 'hello to dashboard'});
</code></pre>

<h3 id="open-the-dashboard">Open the Dashboard</h3>
<p>Goto <a href="http://dash.matrix.one">MATRIX Dashboard</a></p>
<h3 id="starting-the-app">Starting the App</h3>
<p>Dashboard display real time information. If you open an application, it will not show data until you either query historical information or a device application sends information.</p>
<h3 id="charting-realtime-data">Charting Realtime Data</h3>
<p>Adding a <code>display</code> widget and a <code>monitor</code> data type, the dashboard can begin to show information over time.</p>
<h4 id="configuration-additions">Configuration Additions</h4>
<pre><code class="yaml"># config.yaml
dataTypes:
  motd:
    msg: string
  monitor: # new data type
    cpu: float
    mem: integer

screens:
  - - message
  - - graph # new screen

widgets:
  message:
    display: label
    type: motd
    key: msg
    label: from device 
  graph: # new widget
    display: line
    type: monitor
    keys: cpu, mem
    label: Device Status
</code></pre>

<h4 id="code-for-chart-widget">Code for chart widget</h4>
<p>The following will send <code>cpu</code> and <code>mem</code> information to the <code>graph</code> widget to be charted.</p>
<pre><code class="js">// app.js
const os = require('os');

setInterval(function(){
  matrix.type('monitor').send({ cpu: os.loadavg()[0], mem: os.freemem() })
}, 1000);
</code></pre>

<h3 id="controls">Controls</h3>
<p>Adding interactivity through <code>control</code> widgets is how end users can interface directly with devices in real time. </p>
<pre><code class="yaml"># config.yaml
screens:
  - - message
  - - graph
  - - interface # new screen

widgets:
  message:
    display: label
    type: motd
    key: msg
    label: from device
  graph:
    display: line
    type: monitor
    keys: cpu, mem
    label: Device Status
  interface: # new widget
    control: button
    event: increasePower
    value: + CPU
    label: Device Control
</code></pre>

<h3 id="more-controls">More Controls</h3>
<pre><code class="yaml"># config.yaml
  interface:
    control: button
    map:  
      - event: increasePower
        value: + CPU
      - event: decreasePower
        value: - CPU
    label: Device Control
</code></pre>

<h3 id="script-for-new-controls">Script For New Controls</h3>
<pre><code class="js">const os = require('os');

let cpuOffset = 0;
setInterval(function(){
  matrix.type('monitor').send({ cpu: os.loadavg()[0] + cpuOffset, mem: os.freemem() })
}, 1000);


matrix.on('increasePower', () =&gt; {
  cpuOffset++;
})

matrix.on('decreasePower', () =&gt; {
  cpuOffset--;
})
</code></pre>

<h3 id="deploy-start">Deploy &amp; Start</h3>
<p>Make sure your registered MATRIX device is on, connected, and you have selected the proper device with <code>matrix use</code></p>
<pre><code class="bash"># from /ezDash will upload code to device
$ matrix deploy
$ matrix start exDash

# subsequent deploys shouldn't need start, will automagically restart if deployed while active
$ matrix deploy
</code></pre>

<h3 id="usage-note">Usage Note</h3>
<p>If you visit the dashboard after starting the application, you will see the real time data, but not the message. Why? MOS applications are event based, and the message is sent on start. If the <code>send</code> for the message was placed inside the <code>setInterval</code> then it would show.</p> 
        </div>
        <div class="toc-parent col-lg-2 col-md-3">
          <div class="toc">
            
            <h3>Contents</h3>
            <ul class="nav flex-column">
               <li class='nav-item'>
  <a href="#creating-a-dashboard" class="nav-link active">
    Creating a Dashboard
  </a>
  
  <ul>
    
    <li>
      <a class="nav-link" href="#make-application">
        Make application
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#configure-application">
        Configure application
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#application-to-send-a-basic-message">
        Application to send a Basic Message
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#open-the-dashboard">
        Open the Dashboard
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#starting-the-app">
        Starting the App
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#charting-realtime-data">
        Charting Realtime Data
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#controls">
        Controls
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#more-controls">
        More Controls
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#script-for-new-controls">
        Script For New Controls
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#deploy-start">
        Deploy &amp; Start
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#usage-note">
        Usage Note
      </a>
    </li>
    
  </ul>
  
</li> 
            </ul>
          </div>
        </div>
        
      </div>
    </div>
  </div>

  <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="row">
          <div class="col-sm-4">
            <h5>MATRIX</h5>
            <ul>
              <li>
                <a href="https://matrix.one/products/home" target="_blank">For Home</a>
              </li>
              <li>
                <a href="https://matrix.one/products/creator" target="_blank">Creator</a>
              </li>
              <li>
                <a href="https://matrix.one/products/voice" target="_blank">Voice</a>
              </li>
              <li>
                <a href="https://apps.matrix.one/" target="_blank">Apps</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-4">
            <h5>Learn</h5>
            <ul>
              <li>
                <a href="http://blog.matrix.one/" target="_blank">Blog</a>
              </li>
              <li>
                <a href="http://community.matrix.one/" target="_blank">Community</a>
              </li>
              <li>
                <a href="../../..">Docs</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-4">
            <h5>Social Network</h5>
            <ul>
              <li>
                <a href="https://www.facebook.com/MATRIXCreator" target="_blank">Facebook</a>
              </li>
              <li>
                <a href="https://twitter.com/matrix_creator" target="_blank">Twitter</a>
              </li>
              <li>
                <a href="https://www.youtube.com/channel/UCBIqR8r0tfY6W-4-YpZ7NeQ" target="_blank">YouTube</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <h5>Contact</h5>
        <ul>
          <li>
            <a href="https://matrix.one/contact">Contact Us</a>
          </li>
          <li class="subscribe-box">
            <form id="newsletter-form">
              <div class="input-group">
                <input id="newsletter-email" type="email" class="form-control" placeholder="Subscribe for Updates">
                <button type="submit" class="btn btn-success">Subscribe</button>
              </div>
              <label for="newsletter-email"></label>
            </form>
          </li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <a href="https://creator.matrix.one" class="company-logo">
          <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
          <span>MATRIX</span>
        </a>
        <small class="copyright">
          2017 &copy; MATRIX - All rights reserved
        </small>
      </div>
      <div class="col-sm-6">
        <div class="utility-links">
          <a href="https://matrix.one/policies/terms">Terms of Service</a>
          <a href="https://matrix.one/policies/privacy">Privacy Policy</a>
          <a href="https://matrix.one/policies/cookie">Cookie Policy</a>
        </div>
      </div>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
  <script src="../../../js/theme.js"></script>
  <script src="https://use.fontawesome.com/21aeb6fedc.js"></script>
  <script src="../../../js/jquery.ajaxchimp.min.js"></script>
  <script src="../../../js/jquery.ajaxchimp.langs.min.js"></script>
  <script src="../../../js/footer.js"></script>

  <!-- TOC Script -->
  <script>
    jQuery(function($) {
      $('.toc-parent ul li a').on('click', function() {
        var removedElement = $(this)
          .closest('.toc-parent ul li')
          .find('a.active')
          .removeClass('active');

        if (removedElement.length == 0) {
          $('.toc-parent ul li').find('a.active').removeClass('active');
        }

        $(this).addClass('active');
      });
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38180903-26', 'auto');
    ga('send', 'pageview');
  </script>
  
</body>

</html>