<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Python MATRIX</title>
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../css/theme.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
</head>

<body data-spy="scroll">
  <nav class="navbar navbar-expand-lg navbar-light container">
  <a class="navbar-brand" href="https://matrix.one">
    <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
    <span>MATRIX</span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar-menu">
    <ul class="navbar-nav ml-auto">
      <!-- <li class="nav-item">
        <a class="nav-link">
          For Home
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link">
          Creator
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link">
          Voice
        </a>
      </li>
      <li class="nav-item">
        <a href="https://apps.matrix.one/" target="blank" class="nav-link">
          Apps
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link">
          Store
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link">
          OS
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link active">
          Developers
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img src="/img/english.png" alt="English">
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="#">
            <span>Português</span>
            <img src="/img/brazil.png" alt="Portuguese" />
          </a>
          <a class="dropdown-item" href="#">
            <span>Español</span>
            <img src="/img/spain.png" alt="Spanish" />
          </a>
        </div>
      </li> -->
    </ul>
  </div>
</nav>

  <div class="header">
    <div class="container">
      <div class="jumbotron">
        <div class="row">
          <div class="col-sm-8">
            
            <h1>Python</h1>
            
          </div>
          <div class="col-sm-4">
            <form action="../../../search.html" method="get">
              <input class="form-control" type="search" name="q" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="container">
      <div class="row">
        <div class="sidebar col-lg-2">
          <h3>Documentation</h3>
          <ul>
              

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../.." class="">
    Overview
  </a>
</li>


  

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../../setup/" class="">
    Device Setup
  </a>
</li>


  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-os/" class="">
    MATRIX OS
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-os/getting-started/prerequisites/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-os/overview/" class="">
      Overview
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-os/examples/" class="">
      Examples
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-os/reference/" class="">
      Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-os/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../" class="active">
    MATRIX CORE
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../getting-started/prerequisites/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="./" class="active">
      Examples
    </a>
  </li>

  <ul class="subnav">
      
    
    <li><a href="./" class="active">Python</a></li>
        
    
    <li><a href="../jstests/" class="">JavaScript</a></li>
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../reference/" class="">
      Reference
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
        
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  


<!-- Children complicate things  -->

<!-- link to depth-first url found  -->
  

<!-- print root node  -->
<li class="">
  <a href="../../../matrix-hal/" class="">
    MATRIX HAL
  </a>
</li>

<ul class="subnav">
   
  <!-- only 1 deep, print menu items  -->
     
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/getting-started/installation/" class="">
      Getting Started
    </a>
  </li>

  <ul class="subnav">
      
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/datasheets/creator/" class="">
      Boards
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/components/" class="">
      Components
    </a>
  </li>

  <ul class="subnav">
        
        
        
        
        
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/tools/" class="">
      Tools
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- 2 deep  -->
  <!-- print subroot  -->
  <li>
    <a href="../../../matrix-hal/examples/alexa/" class="">
      Examples
    </a>
  </li>

  <ul class="subnav">
      
        
      
  </ul>

    
  <!-- only 1 deep, print menu items  -->
   
  <li><a href="../../../matrix-hal/troubleshooting/" class="">Troubleshooting</a></li>
    
</ul>

  

<!-- link to depth-first url found  -->
  

<!-- If there are no children, use the url (simple)  -->
<li>
  <a href="../../../help/" class="">
    Support
  </a>
</li>


 
          </ul>
        </div>
        <div id="content"  class="col-lg-8">
           <h2 id="python-examples">Python Examples</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>Make sure to have cloned the Python examples found below to your Raspberry Pi.</p>
<pre><code>git clone https://github.com/matrix-io/matrix-creator-malos;
git submodule update --init;
cd matrix-creator-malos/src/python_test;
</code></pre>

<h4 id="python-packages">Python packages</h4>
<p>Install the following python packages dependences via Terminal.</p>
<pre><code>sudo apt-get install build-essential python-dev
pip install -r requirements.txt
</code></pre>

<p>If you're using <a href="https://github.com/kennethreitz/pipenv">pipenv</a>, then do the following:</p>
<pre><code># Install dependencies
pipenv install
</code></pre>

<h4 id="matrix-creator-software">MATRIX Creator software</h4>
<p>Install CORE and perform device reboot. </p>
<pre><code>echo &quot;deb http://packages.matrix.one/matrix-creator/ ./&quot; | sudo tee --append /etc/apt/sources.list
sudo apt-get update
sudo apt-get upgrade
sudo apt-get install matrix-creator-init matrix-creator-malos cmake g++ git libzmq3-dev --no-install-recommends
reboot
</code></pre>

<h3 id="test-gpio">Test GPIO</h3>
<pre><code class="bash">$ python test_gpio.py
GPIO15=0
GPIO15=1
GPIO15=0

</code></pre>

<p>If you're using <a href="https://github.com/kennethreitz/pipenv">pipenv</a>:</p>
<pre><code class="bash">$ pipenv run python test_gpio.py
</code></pre>

<p>(on this example: pin 15 on write mode, toggle value 0 and 1)</p>
<h2 id="python-test-files">Python Test Files</h2>
<h3 id="driver_info">Driver_info</h3>
<pre><code class="bash">python test_driver_info.py
</code></pre>

<h3 id="everloop">Everloop</h3>
<pre><code class="bash">python test_everloop.py
</code></pre>

<h3 id="everloop-color">Everloop color</h3>
<pre><code class="bash">python test_set_everloop_color.py
</code></pre>

<h3 id="gpio">GPIO</h3>
<pre><code class="bash">python test_gpio.py
</code></pre>

<h3 id="gpio-read-write">GPIO Read &amp; Write</h3>
<pre><code class="bash">python test_gpio_read_write.py
</code></pre>

<h3 id="humidity">Humidity</h3>
<pre><code class="bash">python test_humidity.py
</code></pre>

<h3 id="imu">Imu</h3>
<pre><code class="bash">python test_imu.py
</code></pre>

<h3 id="ir">IR</h3>
<pre><code class="bash">python test_ir_remote.py
</code></pre>

<h3 id="pressure">Pressure</h3>
<pre><code class="bash">python test_pressure.py
</code></pre>

<h3 id="servo">Servo</h3>
<pre><code class="bash">python test_servo.py
</code></pre>

<h3 id="uv">UV</h3>
<pre><code class="bash">python test_uv.py
</code></pre>

<h4 id="gpio-python-example">GPIO python example</h4>
<p>On this example, we will connect to CORE GPIO driver for controlling a single pin. GPIO driver on MATRIX creator supports:<a href="https://github.com/matrix-io/matrix-creator-malos/blob/master/docs/gpio_diagram.jpg"><img src="https://github.com/matrix-io/matrix-creator-malos/blob/master/docs/gpio_diagram.jpg" align="right" width="420" ></a></p>
<ul>
<li>GPIO pin input</li>
<li>GPIO pin output</li>
<li>GPIO updates (state from all pins)</li>
</ul>
<p>The CORE driver follows the <a href="../../">CORE protocol</a>.</p>
<hr />
<h4 id="gpio-example-details">GPIO Example details</h4>
<p>Enhanced description of the <a href="../test_gpio.py">sample source code</a>.</p>
<p>First, define the address of the MATRIX Creator. In this case we make it be <code>127.0.0.1</code> because we are connecting from the local host. It will be your creator's IP address if you wish to run the python samples from a different computer, in such case you can <code>export CREATOR_IP=&lt;ip&gt;</code> variable, and the samples will connect to the specified host.</p>
<p>We also set the base port for the CORE Pressure driver (20013).</p>
<pre><code class="python">import zmq
import time
import driver_pb2 as driver_proto # proto buffer precompiled

# Either local host or the value you set in env var
creator_ip = os.environ.get('CREATOR_IP', '127.0.0.1')
creator_gpio_base_port = 20013 + 36

# connection to device
context = zmq.Context()
socket = context.socket(zmq.PUSH)
socket.connect('tcp://' + creator_ip + ':' + str(creator_gpio_base_port))

# instance for config driver message
config = driver_proto.DriverConfig()
config.gpio.pin = 15  # pin on board
config.gpio.mode = driver_proto.GpioParams.OUTPUT # pin mode OUTPUT/INPUT

while True:
    config.gpio.value ^= 1 # toggle value
    print ('GPIO'+str(config.gpio.pin)+'='+str(config.gpio.value))
    socket.send(config.SerializeToString()) # send proto message
    time.sleep(1)
</code></pre>

<h3 id="advanced-sample">Advanced sample</h3>
<p>MATRIX CORE layer uses ZMQ push/subscriptions to send driver configurations and to get driver updates. For more info see <a href="../../">CORE protocol</a> driver details.</p>
<p>Enhanced description of the <a href="https://github.com/matrix-io/matrix-creator-malos/blob/master/src/python_test/test_gpio_read_write.py">sample source code</a>.</p>
<pre><code class="python">import zmq
import time
import driver_pb2 as driver_proto
from  multiprocessing import Process
from zmq.eventloop import ioloop, zmqstream
ioloop.install()

# Either local host or the value you set in env var
creator_ip = os.environ.get('CREATOR_IP', '127.0.0.1')
creator_gpio_base_port = 20013 + 36

# setup GPIO pin to output mode and set gpio value
def config_gpio_write(pin,value):
    config = driver_proto.DriverConfig()
    config.gpio.pin = pin
    config.gpio.mode = driver_proto.GpioParams.OUTPUT
    config.gpio.value = value
    sconfig.send(config.SerializeToString())

# setup GPIO pin to input mode
def config_gpio_read(pin):
    config = driver_proto.DriverConfig()
    # 250 miliseconds between updates.
    config.delay_between_updates = 0.5
    # Stop sending updates 2 seconds after pings.
    config.timeout_after_last_ping = 3.5
    config.gpio.pin = pin
    config.gpio.mode = driver_proto.GpioParams.INPUT
    sconfig.send(config.SerializeToString())

# get complete GPIO register status. (all pines)
def gpio_callback(msg):
    print &quot;Received gpio register: %s&quot; % msg

# ZMQ subscription for driver notifications via gpio_callback
def register_gpio_callback():
    ssub = context.socket(zmq.SUB)
    ssub_port = str(creator_gpio_base_port+3)
    ssub.connect('tcp://' + creator_ip + ':' + ssub_port)
    ssub.setsockopt(zmq.SUBSCRIBE,&quot;&quot;)
    stream = zmqstream.ZMQStream(ssub)
    stream.on_recv(gpio_callback)
    print &quot;Connected to publisher with port %s&quot; % ssub_port
    ioloop.IOLoop.instance().start()
    print &quot;Worker has stopped processing messages.&quot;

# toggle 0/1 on GPIO pin output
def task_gpio_write(pin):
    pin_value = 0
    while True:
        pin_value ^= 1
        config_gpio_write(pin,pin_value)
        print ('GPIO:'+str(pin)+' =&gt; '+str(pin_value))
        time.sleep(1)

# request notifications to driver
def task_driver_ping():
    context = zmq.Context()
    sping = context.socket(zmq.PUSH)
    sping.connect('tcp://' + creator_ip + ':' + str(creator_gpio_base_port + 1))
    while True:
        sping.send('')
        time.sleep(1)

if __name__ == &quot;__main__&quot;:
    # ZMQ initialization and build socket config
    context = zmq.Context()
    sconfig = context.socket(zmq.PUSH)
    sconfig.connect('tcp://' + creator_ip + ':' + str(creator_gpio_base_port))

    config_gpio_write(0,0) # pin 0 in output mode, value 0
    config_gpio_read(1)    # pin 1 in input mode

    # register async tasks
    Process(target = task_gpio_write, args = (0, )).start()
    Process(target = task_driver_ping).start()

    register_gpio_callback()
</code></pre>

<hr />
<h2 id="core-driver-details">CORE Driver details</h2>
<h3 id="0mq-port">0MQ Port</h3>
<pre><code>20049
</code></pre>

<h3 id="protocol-buffers">Protocol buffers</h3>
<pre><code class="javascript">// GPIO handler params
message GpioParams {
  // GPIO to config
  uint32 pin = 1;

  // GPIO mode input/output
  enum EnumMode {
    INPUT = 0;
    OUTPUT = 1;
  }
  EnumMode mode = 2;

  // GPIO value
  uint32 value = 3;

  // GPIO all values
  uint32 values = 4;
}
</code></pre>

<p>The message is defined in <a href="https://github.com/matrix-io/protocol-buffers/blob/master/malos/driver.proto">driver.proto</a>.</p>
<h3 id="keep-alives">Keep-alives</h3>
<p>This driver needs keep-alive messages <a href="https:////github.com/matrix-io/matrix-creator-malos/blob/master/README.md#keep-alive-port">as specified in the CORE protocol</a>.
If you start sending keep-alive messages it will start returning data every second so you can omit the configuration for this device.</p>
<h3 id="errors">Errors</h3>
<p>This driver reports errors when an invalid configuration is sent.</p>
<h3 id="write">Write</h3>
<p>All pins on matrix creator start as inputs. For change to outputs the driver need message for each pin on OUTPUT mode.</p>
<h3 id="read">Read</h3>
<p>The driver will send a serialized message of integer <em>values</em> which reprensets of state from all GPIO pins <a href="https://github.com/matrix-io/matrix-creator-malos/blob/av/doc_gpio/docs/gpio_diagram.jpg">see figure 1</a>. For example: <em>values=5</em> represents <em>101</em> (pin 0 on 1, pin 1 on 0 and pin 2 on 1).</p> 
        </div>
        <div class="toc-parent col-lg-2">
          <div class="toc">
            
            <h3>Contents</h3>
            <ul class="nav flex-column">
               <li class='nav-item'>
  <a href="#python-examples" class="nav-link active">
    Python Examples
  </a>
  
  <ul>
    
    <li>
      <a class="nav-link" href="#prerequisites">
        Prerequisites
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#test-gpio">
        Test GPIO
      </a>
    </li>
    
  </ul>
  
</li>  <li class='nav-item'>
  <a href="#python-test-files" class="nav-link ">
    Python Test Files
  </a>
  
  <ul>
    
    <li>
      <a class="nav-link" href="#driver_info">
        Driver_info
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#everloop">
        Everloop
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#everloop-color">
        Everloop color
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#gpio">
        GPIO
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#gpio-read-write">
        GPIO Read &amp; Write
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#humidity">
        Humidity
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#imu">
        Imu
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#ir">
        IR
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#pressure">
        Pressure
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#servo">
        Servo
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#uv">
        UV
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#advanced-sample">
        Advanced sample
      </a>
    </li>
    
  </ul>
  
</li>  <li class='nav-item'>
  <a href="#core-driver-details" class="nav-link ">
    CORE Driver details
  </a>
  
  <ul>
    
    <li>
      <a class="nav-link" href="#0mq-port">
        0MQ Port
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#protocol-buffers">
        Protocol buffers
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#keep-alives">
        Keep-alives
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#errors">
        Errors
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#write">
        Write
      </a>
    </li>
    
    <li>
      <a class="nav-link" href="#read">
        Read
      </a>
    </li>
    
  </ul>
  
</li> 
            </ul>
          </div>
        </div>
        
      </div>
    </div>
  </div>
  </div>

  <footer class="container">
  <div class="row">
    <div class="col-lg-8">
      <div class="row">
        <div class="col-sm-4">
          <h5>MATRIX</h5>
          <ul>
            <!-- <li>
              <a href="https://matrix.one/products/home">For Home</a>
            </li>
            <li>
              <a href="https://matrix.one/products/creator">Creator</a>
            </li>
            <li>
              <a href="https://matrix.one/products/voice">Voice</a>
            </li> -->
            <li>
              <a href="https://matrix.one/">For Home</a>
            </li>
            <li>
              <a href="https://creator.matrix.one/">Creator</a>
            </li>
            <!-- <li>
              <a href="https://matrix.one/products/voice">Voice</a>
            </li> -->

            <li>
              <a href="https://apps.matrix.one/" target="blank">Apps</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h5>Learn</h5>
          <ul>
            <li>
              <a href="http://blog.matrix.one/" target="blank">Blog</a>
            </li>
            <li>
              <a href="http://community.matrix.one/" target="blank">Community</a>
            </li>
            <li>
              <a href="../../..">Docs</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h5>Social Network</h5>
          <ul>
            <li>
              <a href="https://www.facebook.com/MATRIXCreator" target="blank">Facebook</a>
            </li>
            <li>
              <a href="https://twitter.com/matrix_creator" target="blank">Twitter</a>
            </li>
            <li>
              <a href="https://www.youtube.com/channel/UCBIqR8r0tfY6W-4-YpZ7NeQ" target="blank">YouTube</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <h5>Contact</h5>
      <ul>
        <li>
          <a href="mailto:contact@matrix.one">contact@matrix.one</a>
        </li>
        <!-- <li class="subscribe-box">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Subscribe for Updates">
            <button type="button" class="btn btn-success">Subscribe</button>
          </div>
        </li> -->
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <a href="https://matrix.one" class="company-logo">
        <img src="../../../img/everloop.png" width="38" height="38" class="d-inline-block align-top" alt="">
        <span>MATRIX</span>
      </a>
      <small class="copyright">
        2017 &copy; MATRIX - All rights reserved
      </small>
    </div>
    <div class="col-sm-6">
      <div class="utility-links">
        <a href="https://matrix.one/policies/terms">Terms of Service</a>
        <a href="https://matrix.one/policies/privacy">Privacy Policy</a>
        <a href="https://matrix.one/policies/cookie">Cookie Policy</a>
      </div>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
  <script src="../../../js/theme.js"></script>
  <script src="https://use.fontawesome.com/21aeb6fedc.js"></script>

  <!-- TOC Script -->
  <script>
    jQuery(function($) {
      $('.toc-parent ul li a').on('click', function() {
        var removedElement = $(this)
          .closest('.toc-parent ul li')
          .find('a.active')
          .removeClass('active');

        if (removedElement.length == 0) {
          $('.toc-parent ul li').find('a.active').removeClass('active');
        }

        $(this).addClass('active');
      });
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38180903-26', 'auto');
    ga('send', 'pageview');
  </script>
  
</body>

</html>